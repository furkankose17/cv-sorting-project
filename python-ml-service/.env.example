# =============================================
# CV Sorting ML Service - Environment Variables
# Copy this file to .env and fill in your values
# =============================================

# Application Settings
APP_NAME=CV Sorting ML Service
APP_VERSION=1.0.0
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO
API_PREFIX=/api

# Embedding Model Configuration
# Using multilingual-e5-small for 100+ language support (EN, DE, TR, FR, ES, etc.)
EMBEDDING_MODEL=intfloat/multilingual-e5-small
EMBEDDING_DIMENSION=384
EMBEDDING_BATCH_SIZE=32
EMBEDDING_NORMALIZE=true
EMBEDDING_MAX_LENGTH=512
EMBEDDING_CACHE_ENABLED=true

# OCR Configuration
# Primary: rapidocr (3-5x faster, lighter weight), Fallback: tesseract
OCR_ENGINE=rapidocr
OCR_DEFAULT_LANGUAGE=en
OCR_TABLE_DETECTION=true
# RapidOCR optimization settings
OCR_DET_DB_THRESH=0.3
OCR_DET_DB_BOX_THRESH=0.5
OCR_CONTRAST_FACTOR=1.3
OCR_SHARPNESS_FACTOR=1.2

# Tesseract paths (optional, only needed if using tesseract)
# TESSERACT_CMD=/usr/bin/tesseract
# POPPLER_PATH=/usr/bin

# PostgreSQL + pgvector (optional for local dev)
# Service can run without database for basic testing
# POSTGRES_HOST=localhost
# POSTGRES_PORT=5432
# POSTGRES_DB=cv_sorting
# POSTGRES_USER=postgres
# POSTGRES_PASSWORD=your-password
# POSTGRES_SSL=false
# POSTGRES_POOL_MIN=2
# POSTGRES_POOL_MAX=10

# CAP Service URL (for callback integration if needed)
# CAP_SERVICE_URL=http://localhost:4004
# CAP_CLIENT_ID=
# CAP_CLIENT_SECRET=
# CAP_TOKEN_URL=

# Matching Configuration
SEMANTIC_WEIGHT=0.4
CRITERIA_WEIGHT=0.6
DEFAULT_MIN_SCORE=50.0
DEFAULT_MATCH_LIMIT=50

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# CORS (allow all for local dev)
ALLOWED_ORIGINS=*

# File Processing
MAX_FILE_SIZE_MB=20
