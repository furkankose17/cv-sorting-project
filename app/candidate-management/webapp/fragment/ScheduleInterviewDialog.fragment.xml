<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:form="sap.ui.layout.form">
    <Dialog
        id="scheduleInterviewDialog"
        title="{i18n>ScheduleInterview}"
        contentWidth="550px"
        busy="{dialog>/isLoading}"
        busyIndicatorDelay="0"
        ariaLabelledBy="scheduleInterviewTitle">
        <content>
            <VBox id="scheduleInterviewVBox" class="sapUiSmallMargin">
                <MessageStrip
                    id="scheduleInfoStrip"
                    text="{= 'Scheduling interview for: ' + ${dialog>/candidateName}}"
                    type="Information"
                    showIcon="true"
                    class="sapUiSmallMarginBottom"
                    visible="{= !!${dialog>/candidateName}}"/>
                <form:SimpleForm
                    id="scheduleInterviewForm"
                    editable="true"
                    layout="ResponsiveGridLayout"
                    labelSpanXL="4"
                    labelSpanL="4"
                    labelSpanM="4"
                    labelSpanS="12"
                    adjustLabelSpan="false"
                    emptySpanXL="0"
                    emptySpanL="0"
                    emptySpanM="0"
                    emptySpanS="0"
                    columnsXL="1"
                    columnsL="1"
                    columnsM="1"
                    singleContainerFullSize="false">
                    <form:content>
                        <Label id="interviewTitleLabel" text="{i18n>InterviewTitle}" required="true" labelFor="interviewTitleInput"/>
                        <Input
                            id="interviewTitleInput"
                            value="{dialog>/title}"
                            placeholder="e.g., Technical Interview Round 1"
                            ariaLabelledBy="interviewTitleLabel"/>

                        <Label id="interviewTypeLabel" text="{i18n>InterviewType}" required="true" labelFor="interviewTypeSelect"/>
                        <Select
                            id="interviewTypeSelect"
                            selectedKey="{dialog>/interviewTypeCode}"
                            items="{dialog>/InterviewTypes}"
                            forceSelection="false"
                            change=".onInterviewTypeChange"
                            ariaLabelledBy="interviewTypeLabel">
                            <core:Item id="interviewTypeItem" key="{dialog>code}" text="{dialog>name}"/>
                        </Select>

                        <Label id="scheduledAtLabel" text="{i18n>ScheduledAt}" required="true" labelFor="scheduledAtPicker"/>
                        <DateTimePicker
                            id="scheduledAtPicker"
                            value="{dialog>/scheduledAt}"
                            valueFormat="yyyy-MM-ddTHH:mm:ss"
                            displayFormat="medium"
                            ariaLabelledBy="scheduledAtLabel"/>

                        <Label id="durationLabel" text="{i18n>Duration}" labelFor="durationInput"/>
                        <Input
                            id="durationInput"
                            value="{dialog>/duration}"
                            type="Number"
                            description="minutes"
                            ariaLabelledBy="durationLabel"/>

                        <Label id="timezoneLabel" text="{i18n>Timezone}" labelFor="timezoneSelect"/>
                        <Select
                            id="timezoneSelect"
                            selectedKey="{dialog>/timezone}"
                            ariaLabelledBy="timezoneLabel">
                            <core:Item id="tzUTC" key="UTC" text="UTC"/>
                            <core:Item id="tzET" key="America/New_York" text="Eastern Time (ET)"/>
                            <core:Item id="tzCT" key="America/Chicago" text="Central Time (CT)"/>
                            <core:Item id="tzPT" key="America/Los_Angeles" text="Pacific Time (PT)"/>
                            <core:Item id="tzGMT" key="Europe/London" text="GMT/BST (London)"/>
                            <core:Item id="tzCET" key="Europe/Berlin" text="CET (Berlin)"/>
                            <core:Item id="tzIST" key="Asia/Kolkata" text="IST (India)"/>
                            <core:Item id="tzSGT" key="Asia/Singapore" text="SGT (Singapore)"/>
                            <core:Item id="tzJST" key="Asia/Tokyo" text="JST (Japan)"/>
                        </Select>

                        <Label id="interviewerLabel" text="{i18n>Interviewer}" required="true" labelFor="interviewerInput"/>
                        <Input
                            id="interviewerInput"
                            value="{dialog>/interviewer}"
                            placeholder="Interviewer name"
                            ariaLabelledBy="interviewerLabel"/>

                        <Label id="interviewerEmailLabel" text="{i18n>InterviewerEmail}" labelFor="interviewerEmailInput"/>
                        <Input
                            id="interviewerEmailInput"
                            value="{dialog>/interviewerEmail}"
                            type="Email"
                            placeholder="interviewer@company.com"
                            ariaLabelledBy="interviewerEmailLabel"/>

                        <Label id="interviewLocationLabel" text="{i18n>Location}" labelFor="interviewLocationInput"/>
                        <Input
                            id="interviewLocationInput"
                            value="{dialog>/location}"
                            placeholder="Office address or room"
                            ariaLabelledBy="interviewLocationLabel"/>

                        <Label id="meetingLinkLabel" text="{i18n>MeetingLink}" labelFor="meetingLinkInput"/>
                        <Input
                            id="meetingLinkInput"
                            value="{dialog>/meetingLink}"
                            type="Url"
                            placeholder="https://teams.microsoft.com/..."
                            ariaLabelledBy="meetingLinkLabel"/>
                    </form:content>
                </form:SimpleForm>
            </VBox>
        </content>
        <beginButton>
            <Button
                id="confirmScheduleBtn"
                text="{i18n>dialogConfirm}"
                type="Emphasized"
                press=".onConfirmScheduleInterview"
                enabled="{= !${dialog>/isLoading} }"/>
        </beginButton>
        <endButton>
            <Button
                id="cancelScheduleBtn"
                text="{i18n>dialogCancel}"
                press=".onCancelScheduleInterview"/>
        </endButton>
    </Dialog>
</core:FragmentDefinition>
