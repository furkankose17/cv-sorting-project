<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:suite="sap.suite.ui.commons">
    <Dialog
        id="candidateTimelineDialog"
        title="{i18n>ShowTimeline}"
        contentWidth="650px"
        contentHeight="500px"
        busy="{dialog>/isLoading}"
        busyIndicatorDelay="0"
        ariaLabelledBy="timelineTitle">
        <content>
            <VBox id="timelineVBox" class="sapUiSmallMargin">
                <MessageStrip
                    id="timelineInfoStrip"
                    text="{= 'Activity timeline for: ' + ${dialog>/candidateName}}"
                    showIcon="true"
                    class="sapUiSmallMarginBottom"
                    visible="{= !!${dialog>/candidateName}}"/>

                <suite:Timeline
                    id="candidateTimeline"
                    content="{dialog>/timelineItems}"
                    enableDoubleSided="false"
                    groupBy="dateTime"
                    sortOldestFirst="false"
                    showIcons="true"
                    lazyLoading="false"
                    growingThreshold="20">
                    <suite:content>
                        <suite:TimelineItem
                            id="timelineItem"
                            dateTime="{dialog>timestamp}"
                            title="{dialog>title}"
                            text="{dialog>description}"
                            userName="{dialog>performedBy}"
                            icon="{= ${dialog>type} === 'STATUS_CHANGE' ? 'sap-icon://status-in-process' :
                                   ${dialog>type} === 'DOCUMENT_ADDED' ? 'sap-icon://document' :
                                   ${dialog>type} === 'NOTE_ADDED' ? 'sap-icon://notes' :
                                   ${dialog>type} === 'INTERVIEW_SCHEDULED' ? 'sap-icon://appointment' :
                                   ${dialog>type} === 'INTERVIEW_COMPLETED' ? 'sap-icon://complete' :
                                   ${dialog>type} === 'SKILL_ADDED' ? 'sap-icon://add-employee' :
                                   ${dialog>type} === 'CREATED' ? 'sap-icon://add' :
                                   'sap-icon://activity-items' }"/>
                    </suite:content>
                </suite:Timeline>

                <IllustratedMessage
                    id="noTimelineMessage"
                    illustrationType="sapIllus-EmptyList"
                    title="No Activity Yet"
                    description="There is no recorded activity for this candidate."
                    visible="{= ${dialog>/timelineItems}.length === 0 &amp;&amp; !${dialog>/isLoading}}"/>
            </VBox>
        </content>
        <endButton>
            <Button
                id="closeTimelineBtn"
                text="{i18n>dialogCancel}"
                press=".onCloseTimelineDialog"/>
        </endButton>
    </Dialog>
</core:FragmentDefinition>
