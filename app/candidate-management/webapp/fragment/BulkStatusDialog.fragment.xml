<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:form="sap.ui.layout.form">
    <Dialog
        id="bulkStatusDialog"
        title="{i18n>BulkStatusChange}"
        type="Message"
        contentWidth="500px"
        busy="{dialog>/isLoading}"
        busyIndicatorDelay="0"
        ariaLabelledBy="bulkStatusTitle">
        <content>
            <VBox id="bulkStatusVBox" class="sapUiSmallMargin">
                <MessageStrip
                    id="bulkInfoStrip"
                    text="{= ${dialog>/selectedCount} + ' ' + ${i18n>candidatesSelected}}"
                    type="Information"
                    showIcon="true"
                    class="sapUiSmallMarginBottom"/>
                <form:SimpleForm
                    id="bulkStatusForm"
                    editable="true"
                    layout="ResponsiveGridLayout"
                    labelSpanXL="4"
                    labelSpanL="4"
                    labelSpanM="4"
                    labelSpanS="12"
                    class="sapUiSmallMarginTop">
                    <form:content>
                        <Label id="bulkNewStatusLabel" text="{i18n>dialogNewStatus}" required="true" labelFor="bulkStatusSelect"/>
                        <Select
                            id="bulkStatusSelect"
                            selectedKey="{dialog>/newStatusCode}"
                            items="{dialog>/CandidateStatuses}"
                            forceSelection="false"
                            ariaLabelledBy="bulkNewStatusLabel">
                            <core:Item id="bulkStatusItem" key="{dialog>code}" text="{dialog>name}"/>
                        </Select>
                        <Label id="bulkReasonLabel" text="{i18n>dialogReason}" labelFor="bulkReasonArea"/>
                        <TextArea
                            id="bulkReasonArea"
                            value="{dialog>/reason}"
                            rows="3"
                            width="100%"
                            placeholder="{i18n>dialogReasonPlaceholder}"
                            ariaLabelledBy="bulkReasonLabel"/>
                    </form:content>
                </form:SimpleForm>
                <ProgressIndicator
                    id="bulkProgressIndicator"
                    percentValue="{dialog>/progress}"
                    displayValue="{dialog>/progressText}"
                    showValue="true"
                    state="Information"
                    visible="{dialog>/showProgress}"
                    class="sapUiSmallMarginTop"/>
            </VBox>
        </content>
        <beginButton>
            <Button
                id="confirmBulkStatusBtn"
                text="{i18n>dialogConfirm}"
                type="Emphasized"
                press=".onConfirmBulkStatusChange"
                enabled="{= !${dialog>/isLoading} }"/>
        </beginButton>
        <endButton>
            <Button
                id="cancelBulkStatusBtn"
                text="{i18n>dialogCancel}"
                press=".onCancelBulkStatusChange"/>
        </endButton>
    </Dialog>
</core:FragmentDefinition>
