<core:FragmentDefinition
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:f="sap.f"
    xmlns:cards="sap.f.cards"
    xmlns:layout="sap.ui.layout">

    <f:Card id="idDocInfoCard" class="sapUiMediumMargin">
        <f:header>
            <cards:Header
                id="idDocInfoHeader"
                title="{fileName}"
                subtitle="{fileType}"
                iconSrc="sap-icon://document"/>
        </f:header>
        <f:content>
            <VBox id="idDocInfoContentVBox" class="sapUiSmallMargin">
                <layout:Grid id="idDocInfoGrid" defaultSpan="XL4 L4 M6 S12" class="sapUiSmallMarginBottom">
                    <layout:content>
                        <VBox id="idStatusContainerVBox">
                            <Label id="idStatusLabel" text="{i18n>status}"/>
                            <ObjectStatus
                                id="idProcessingStatusObjectStatus"
                                text="{processingStatus}"
                                state="{= ${processingStatus} === 'completed' ? 'Success' : ${processingStatus} === 'failed' ? 'Error' : ${processingStatus} === 'processing' ? 'Information' : 'None'}"/>
                        </VBox>
                        <VBox id="idConfidenceContainerVBox">
                            <Label id="idConfidenceScoreLabel" text="{i18n>confidence}"/>
                            <ObjectNumber
                                id="idConfidenceObjectNumber"
                                number="{= ${ocrConfidence} ? ${ocrConfidence}.toFixed(0) : '-'}"
                                unit="%"
                                state="{= ${ocrConfidence} >= 80 ? 'Success' : ${ocrConfidence} >= 50 ? 'Warning' : 'Error'}"/>
                        </VBox>
                        <VBox id="idUploadDateContainerVBox">
                            <Label id="idUploadDateLabel" text="{i18n>uploadDate}"/>
                            <Text id="idCreatedAtText" text="{
                                path: 'createdAt',
                                type: 'sap.ui.model.type.DateTime',
                                formatOptions: { style: 'medium' }
                            }"/>
                        </VBox>
                        <VBox id="idExtractionMethodContainerVBox">
                            <Label id="idExtractionMethodLabel" text="{i18n>extractionMethod}"/>
                            <Text id="idExtractionMethodText" text="{extractionMethod}"/>
                        </VBox>
                    </layout:content>
                </layout:Grid>

                <MessageStrip
                    id="idErrorMessageMessageStrip"
                    text="{errorMessage}"
                    type="Error"
                    showIcon="true"
                    visible="{= !!${errorMessage}}"
                    class="sapUiSmallMarginTop"/>
            </VBox>
        </f:content>
    </f:Card>

</core:FragmentDefinition>
